<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Tic Tac Toe</title>
    <link rel="stylesheet" type="text/css" href="ticTacToe.css">
    <script src="https://unpkg.com/react@latest/dist/react.js"></script>
    <script src="https://unpkg.com/react-dom@latest/dist/react-dom.js"></script>
    <script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"></script>
  </head>
  <body>
    <div id="container"></div>
    <script type="text/babel">

       class Square extends React.Component {
          constructor() {
            super(); // constructor of a subclass
            this.state = { // current value stored in state
              value: null,
            };
          }
          render() {
              return (
                // Whenever this.setState is called, an update to the component is scheduled,
                // causing React to merge in the passed state update and rerender the component along with its descendants.
                // When the component rerenders, this.state.value will be 'X' so you'll see an X in the grid.
                <button className="square" onClick={() => this.setState({value: 'X'})}>
                    {this.state.value}
                </button>
              );
            }
          }

          class Board extends React.Component {
            renderSquare(i) {
              return <Square value={i} />
            }
            render() {
              const status = 'Next player: X';
              return (
                <div>
                  <div className="status">{status}</div>
                  <div className="board-row">
                    {this.renderSquare(0)}
                    {this.renderSquare(1)}
                    {this.renderSquare(2)}
                  </div>
                  <div className="board-row">
                    {this.renderSquare(3)}
                    {this.renderSquare(4)}
                    {this.renderSquare(5)}
                  </div>
                  <div className="board-row">
                    {this.renderSquare(6)}
                    {this.renderSquare(7)}
                    {this.renderSquare(8)}
                  </div>
                </div>
              );
            }
          }

          class Game extends React.Component {
            render() {
              return (
                <div className="game">
                  <div className="game-board">
                    <Board />
                  </div>
                  <div className="game-info">
                    <div>{
                    /* status */
                    }</div>
                    <ol>{
                      /* TODO */
                    }</ol>
                  </div>
                </div>
              );
            }
          }

          ReactDOM.render(
            <Game />,
            document.getElementById('container')
          );
          function calculateWinner(squares) {
            const lines = [
              [0, 1, 2],
              [3, 4, 5],
              [6, 7, 8],
              [0, 3, 6],
              [1, 4, 7],
              [2, 5, 8],
              [0, 4, 8],
              [2, 4, 6],
            ];
            for (let i = 0; i < lines.length; i++) {
              const [a, b, c] = lines[i];
              if (squares[a] && squares[a] === squares[b] && squares[a] === squares[c]) {
                return squares[a];
              }
            }
            return null;
          }

    </script>

    <script type="text/babel" src="components.js"></script>
    <script type="text/babel" src="ticTacToe.js"></script>
  </body>
</html>
